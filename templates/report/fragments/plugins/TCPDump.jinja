<!-- Default box -->
<!-- style="border-top-color:{{colors[random_color]}}; border-top-width: 3px" -->
<div class="card" id="{{ application.id }}-{{ pluginName }}">
    <div class="card-header bg-{{ colors[loop_index%colors|length] }}">
        <h2 class="card-title"><b>{{ pluginName }}</b></h2>
        <div class="card-tools">
            <button type="button" class="btn btn-tool" data-card-widget="collapse" data-toggle="tooltip" title="Collapse">
                <i class="fas fa-minus"></i>
            </button>
            <button type="button" class="btn btn-tool" data-card-widget="remove" data-toggle="tooltip" title="Remove">
                <i class="fas fa-times"></i>
            </button>
        </div>
    </div>
    <div class="card-body">
        <table id="application-{{ application.id }}-{{ pluginName }}-table" class="table table-striped table-valign-middle">
            <thead>
                <tr>
                    {% for key in listPluginInstance[0].keys() %}
                    <!-- Remove id and application_id -->
                        {% if loop.index > 1 and loop.index < listPluginInstance[0].keys()|length %}
                            <th>{{ key }}</th>
                        {% endif %}
                    {% endfor %}
                </tr>
            </thead>
            <tbody>
                {% for pluginInstance in listPluginInstance %}
                    {% if pluginInstance['application_id'] == application.id %}
                        {% set id = pluginInstance['id'] %}
                        <tr>
                        {% for key,value in pluginInstance.items() %}
                        <!-- Remove id and application_id -->
                            {% if loop.index > 1 and loop.index < pluginInstance.values()|length %} 
                                {% if key == 'date' %}
                                    <td style="white-space:pre-line">{{ value|e -}}</td>
                                {% elif key == 'file_path' %}
                                    <td style="white-space:pre-line"><a href="{{ value|e -}}">{{ value|e -}}</a></td>
                                {% else %}
                                    {% if value is defined and value and value != "" %}
                                        {% if value|length > 100 %}
                                            <td style="white-space:pre-line">{{ value[0:100]|e -}} ...
                                                <button id="btn_readmore" type="button" class="btn btn-{{ colors[loop_index%colors|length] }} btn-xs" data-toggle="modal" data-target="#application-{{ application.id }}-{{ pluginName }}-{{ id }}-{{ loop.index }}-modal-lg">Read More</button>
                                            </td>
                                            <div class="modal fade" id="application-{{ application.id }}-{{ pluginName }}-{{ id }}-{{ loop.index }}-modal-lg">
                                                <div class="modal-dialog modal-dialog-scrollable modal-lg">
                                                    <div class="modal-content">
                                                        <div class="modal-header">
                                                            <h4 class="modal-title">{{ pluginName }}-{{ key }} </h4>
                                                            <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                                                <span aria-hidden="true">&times;</span>
                                                            </button>
                                                        </div>  
                                                        <div class="modal-body">
                                                            <p style="white-space:break-spaces">{{ value|e -}}</p>
                                                        </div>
                                                        <div class="modal-footer justify-content-right">
                                                            <button type="button" class="btn btn-primary" data-dismiss="modal">Close</button>
                                                            <!-- <button type="button" class="btn btn-primary">Save changes</button> -->
                                                        </div>
                                                    </div>
                                                    <!-- /.modal-content -->
                                                </div>
                                                <!-- /.modal-dialog -->
                                            </div>
                                            <!-- /.modal -->
                                        {% else %}
                                            <td style="white-space:pre-line">{{ value|e -}}</td>
                                        {% endif %}
                                    {% else %}
                                        <td style="white-space:pre-line">{{ value|e -}}</td>
                                    {% endif %}
                                {% endif %}    
                            {% endif %}
                        {% endfor %}
                    {% endif %}
                    </tr>
                {% endfor %}
            </tbody>
        </table>
    </div>
    <!-- /.card-body -->
</div>
<!-- /.card -->