<!-- Default box -->
    <div class="card" id="{{ application.id }}-{{ pluginName }}">
        <div class="card-header bg-{{ colors[loop_index%colors|length] }}">
          <h2 class="card-title"><b>{{ pluginName }}</b></h2>

          <div class="card-tools">
            <button type="button" class="btn btn-tool" data-card-widget="collapse" data-toggle="tooltip" title="Collapse">
              <i class="fas fa-minus"></i></button>
            <button type="button" class="btn btn-tool" data-card-widget="remove" data-toggle="tooltip" title="Remove">
              <i class="fas fa-times"></i></button>
          </div>
        </div>
        <div class="card-body">
            <h5>Properties</h5>
            <br>
            <div class="row">
                <div class="col-5 col-sm-3">
                    {% set properties = [] %}
                    {% set properties_dict = dict() %}

                    {% for pluginInstance in listPluginInstance %}
                        {% if pluginInstance['application_id'] == application.id %}
                            {% set property = [] %}
                            {% set values = [] %}
                            {% for value in pluginInstance.values() %}
                                {% if (loop.index > 1) and (loop.index < 5) %}
                                    {% if loop.index == 2 %}
                                        {% do property.append(value) %}
                                        {% if value not in properties %}
                                            {% do properties.append(value) %}
                                        {% endif %}
                                    {% endif %}
                                    {% if loop.index != 2 %}
                                        {% do values.append(value) %}
                                    {% endif %}
                                {% endif %}
                            {% endfor %}
                            {% set property_value = property|join('') %}

                            {% if properties_dict[property_value] is defined %}
                                {% set new_value = properties_dict[property_value] + values|join('%||%') + "|||" %}
                                {% set test = properties_dict.update({ property_value:new_value }) %}
                            {% else %}
                                {% set test = properties_dict.update({ property_value:values|join('%||%') + "|||" }) %}
                            {% endif %}
                        {% endif %}
                    {% endfor %}

                    <div class="nav flex-column nav-tabs h-100" id="vert-tabs-tab" role="tablist" aria-orientation="vertical">
                        {% for value in properties %}
                            {% if loop.index == 1 %}
                                <a class="nav-link active" id="vert-tabs-{{ application.id }}-{{ value|e -}}-tab" data-toggle="pill" href="#vert-tabs-{{ application.id }}-{{ value| replace(' ', '_') }}" role="tab" aria-controls="vert-tabs-{{ application.id }}-{{ value| replace(' ', '_') }}" aria-selected="true">{{ value|e -}}</a>
                            {% else %}
                                <a class="nav-link" id="vert-tabs-{{ application.id }}-{{ value|e -}}-tab" data-toggle="pill" href="#vert-tabs-{{ application.id }}-{{ value| replace(' ', '_') }}" role="tab" aria-controls="vert-tabs-{{ application.id }}-{{ value| replace(' ', '_') }}" aria-selected="false">{{ value|e -}}</a>
                            {% endif %}
                        {% endfor %} 
                    </div>
                </div>
            
                <div class="col-7 col-sm-9 table-responsive p-0">
                    <div class="tab-content" id="vert-tabs-tabContent">
                    {% for key, value in properties_dict.items() %}
                        {% set list1 = value.split('|||') %}
                        {% if loop.index == 1 %}
                            <div class="tab-pane text-left fade show active" id="vert-tabs-{{ application.id }}-{{ key| replace(' ', '_') }}" role="tabpanel" aria-labelledby="vert-tabs-{{ application.id }}-{{ key| replace(' ', '_') }}-tab">
                                <table class="table table-striped table-valign-middle">
                                    <thead>
                                        <tr>
                                            <th>Real Value</th>
                                            <th>Return Value</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                    {% for value_list1 in list1 %}
                                        <tr>
                                            {% set test = value_list1.split('%||%') %}
                                            {% for test2 in test %}
                                                <td style="white-space:pre-line">{{ test2 }}</td>
                                            {% endfor %}
                                        </tr>
                                    {% endfor %}
                                    </tbody>
                                </table>
                            </div>
                        {% else %}
                            <div class="tab-pane fade" id="vert-tabs-{{ application.id }}-{{ key| replace(' ', '_') }}" role="tabpanel" aria-labelledby="vert-tabs-{{ application.id }}-{{ key| replace(' ', '_') }}-tab">
                                <table class="table table-striped table-valign-middle">
                                    <thead>
                                        <tr>
                                            <th>Real Value</th>
                                            <th>Return Value</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                    {% for value_list1 in list1 %}
                                        <tr>
                                            {% set test = value_list1.split('%||%') %}
                                            {% for test2 in test %}
                                                <td style="white-space:pre-line">{{ test2 }}</td>
                                            {% endfor %}
                                        </tr>
                                    {% endfor %}
                                    </tbody>
                                </table>
                            </div>
                        {% endif %}
                    {% endfor %}
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!-- /.card-body -->
    </div>
    <!-- /.card -->