function hook_proxy(){
    var system = Java.use('java.lang.System')
    var proxy = Java.use('android.net.Proxy')

    system.getProperty.overload('java.lang.String').implementation = function(p_str){
        if (p_str.includes("http.proxyHost") || p_str.includes("https.proxyHost") ){
            send('Proxy: http[s].proxyHost');
            return null;
        }
        else if (p_str.includes("http.proxyPort") || (p_str.includes("https.proxyPort"))){
            send('Proxy: http[s].proxyPort');
            return null;
        }
        else{
            return this.getProperty(p_str);
        }
    }
    proxy.getHost.overload('android.content.Context').implementation = function(p_str){
        send('Proxy: android.net.Proxy.getHost');
        return null;
    }
    proxy.getPort.overload('android.content.Context').implementation = function(p_str){
        send('Proxy: android.net.Proxy.getPort');
        return null;
    }
}

hook_proxy()