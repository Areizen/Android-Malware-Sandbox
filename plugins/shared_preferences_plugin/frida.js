function notifyNewSharedPreference() {
  var sharedPrefs = Java.use('android.app.SharedPreferencesImpl');

  sharedPrefs.$init.overload('java.io.File', 'int').implementation = function(file, mode) {
    var result = this.$init(file, mode);
    var obj = {"plugin": "sharedprefs", "method": "SharedPreferencesImpl.$init('java.lang.String', 'int')", "file": file.getAbsolutePath(), "value": mode};
    send(JSON.stringify(obj));
    return result;
  }

  Java.use('android.app.SharedPreferencesImpl$EditorImpl').putString.overload('java.lang.String', 'java.lang.String').implementation = function(k, v) {
    var obj = {"plugin": "sharedprefs", "method":"SharedPreferences.Editor.putString('java.lang.String', 'java.lang.String')", "file": 'NULL', "value": k+" = "+v};
    send(JSON.stringify(obj));
    return this.putString(k, v);
  }
}


notifyNewSharedPreference();