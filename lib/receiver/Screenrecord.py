from lib.receiver.Receiver import Receiver
import logging


class Screenrecord(Receiver):

    def __init__(self, module, report_path, device):
        Receiver.__init__(self,"ScreenrecordReceiver")
        self.module = module
        self.device = device
        self.file_path = f"/data/local/tmp/screenrecord_{self.module.application.package}.mp4" 
        self.out_directory = f"{report_path}"

    def start(self):
        logging.debug("Screenrecord:start()")
        self.device.start_screenrecord(self.file_path)
    

    def stop(self):
        logging.debug("Screenrecord:stop()")
        self.device.get_screenrecord_file(self.file_path, self.out_directory)



